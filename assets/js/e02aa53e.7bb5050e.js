"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[41],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),m=r,f=p["".concat(c,".").concat(m)]||p[m]||u[m]||a;return n?o.createElement(f,i(i({ref:t},d),{},{components:n})):o.createElement(f,i({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},2790:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return u}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=["components"],l={sidebar_label:"Multi-Node Mode",sidebar_position:6},c="Creating a Multi-Node local testnet",s={unversionedId:"node/multi-node",id:"node/multi-node",title:"Creating a Multi-Node local testnet",description:"For more advanced smart contracts debugging and testing closer to the real network environment, you can build your local testnet that consists of several interconnected nodes. This mode allows to see the multi-node consensus algorithm in action.",source:"@site/docs/node/multi-node.md",sourceDirName:"node",slug:"/node/multi-node",permalink:"/node/multi-node",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/node/multi-node.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_label:"Multi-Node Mode",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Dev Net Mode",permalink:"/node/dev-net"},next:{title:"Node FAQ",permalink:"/node/node-faq"}},d={},u=[],p={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"creating-a-multi-node-local-testnet"},"Creating a Multi-Node local testnet"),(0,a.kt)("p",null,"For more advanced smart contracts debugging and testing closer to the real network environment, you can build your local testnet that consists of several interconnected nodes. This mode allows to see the multi-node consensus algorithm in action."),(0,a.kt)("p",null,"Run a local testnet with two validator nodes, Alice and Bob, that have been ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/gear-tech/gear/blob/master/node/src/chain_spec.rs"},"configured")," as the initial authorities of the ",(0,a.kt)("inlineCode",{parentName:"p"},"local")," testnet chain and endowed with testnet units."),(0,a.kt)("p",null,"Note: this will require two terminal sessions (one for each node)."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Start Alice's node first. The command below uses the default TCP port (30333) and specifies ",(0,a.kt)("inlineCode",{parentName:"li"},"/tmp/alice")," as the chain database location. Alice's node ID will be ",(0,a.kt)("inlineCode",{parentName:"li"},"12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp")," (legacy representation: ",(0,a.kt)("inlineCode",{parentName:"li"},"QmRpheLN4JWdAnY7HGJfWFNbfkQCb6tFf4vvA6hgjMZKrR"),"); this is determined by the node-key.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"./gear-node\n  --base-path /tmp/alice\n  --chain=local\n  --alice\n  --node-key 0000000000000000000000000000000000000000000000000000000000000001\n  --telemetry-url 'ws://telemetry-backend-shard.gear-tech.io:32001/submit 0'\n  --name 'alice'\n  --validator\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"In another terminal, use the following command to start Bob's node on a different TCP port (30334) and with a chain database location of ",(0,a.kt)("inlineCode",{parentName:"li"},"/tmp/bob"),". The ",(0,a.kt)("inlineCode",{parentName:"li"},"--bootnodes")," option will connect his node to Alice's on TCP port 30333:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"./gear-node\n  --base-path /tmp/bob\n  --bootnodes /ip4/127.0.0.1/tcp/30333/p2p/12D3KooWEyoppNCUx8Yx66oV9fJnriXwCcXwDDUA2kj6vnc6iDEp\n  --chain=local\n  --bob\n  --port 30334\n  --ws-port 9945\n  --telemetry-url 'ws://telemetry-backend-shard.gear-tech.io:32001/submit 0'\n  --name 'bob'\n  --validator\n")))}m.isMDXComponent=!0}}]);